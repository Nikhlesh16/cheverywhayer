# ========================================
# FLY.IO FULL STACK DEPLOYMENT
# ========================================

# ------------------
# BACKEND (Fly.io)
# ------------------
# Set via: fly secrets set KEY=value

# Database (Fly Postgres or external)
# Fly provides: postgres://user:pass@hostname:port/dbname
DATABASE_URL=postgresql://postgres:password@your-app-db.flycast:5432/your_db

# Redis (Fly Redis or Upstash)
REDIS_URL=redis://default:password@your-app-redis.flycast:6379

# JWT
JWT_SECRET=your-production-secret-change-this
JWT_EXPIRATION=7d

# Server
PORT=8080
NODE_ENV=production

# CORS (allow your Fly.io app domain)
CORS_ORIGINS=https://your-app.fly.dev,https://www.yourdomain.com

# H3
H3_RESOLUTION=8

# ------------------
# FRONTEND (Fly.io)
# ------------------
# Build-time variables (add to Dockerfile ARG)

NEXT_PUBLIC_API_URL=https://your-backend.fly.dev
NEXT_PUBLIC_WS_URL=https://your-backend.fly.dev
NODE_ENV=production

# ------------------
# FLY.IO DEPLOYMENT COMMANDS
# ------------------
# Install: brew install flyctl (or download from fly.io)
# Login: fly auth login
# Create app: fly launch
# Set secrets: fly secrets set JWT_SECRET=your-secret DATABASE_URL=postgresql://...
# Deploy: fly deploy
# Scale: fly scale count 1 (1 instance on free tier)

# ------------------
# FLY.TOML CONFIG
# ------------------
# Create fly.toml in backend/ and frontend/ directories
# See fly.io documentation for full configuration

# ------------------
# ADVANTAGES
# ------------------
# ✅ Full Docker support (use docker-compose as reference)
# ✅ Built-in PostgreSQL and Redis
# ✅ Automatic HTTPS certificates
# ✅ Multi-region deployment
# ✅ Free tier: 3 VMs, 160GB bandwidth/month
